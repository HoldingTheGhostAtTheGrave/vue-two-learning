{"version":3,"file":"vue.js","sources":["../../src/observer/array.js","../../src/utils.js","../../src/observer/index.js","../../src/state.js","../../src/compile/index.js","../../src/init.js","../../src/index.js"],"sourcesContent":["import { observer } from \"./index\";\n\n\n// 获取数组上的方法\nconst arrayProto = Array.prototype;\n\n// 继承该方法\nexport const arrayMethods = Object.create(arrayProto);\n\nconst methodsToPatch = [\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'splice',\n    'sort',\n    'reverse'\n];\n\nmethodsToPatch.forEach((method) => {\n    // 新的方法\n    arrayMethods[method] = function (...args) {\n        // this 就是 observer里的value\n        let inserted;\n        let ob = this.__ob__;\n\n        if(method === 'push' || method === 'unshift'){\n            inserted = args;\n        }\n        if(method === 'splice'){\n            inserted = args.slice(2);\n        }\n        if(inserted){\n            ob.observerArray(inserted);\n        }\n        return arrayProto[method].apply(this,args);\n    }\n})                                        ","export function proxy (vm , data , key) {\n    Object.defineProperty(vm , key , {\n        get(){\n            return vm[data][key];\n        },\n        set(newValue){\n            if(vm[data][key] === newValue) return;\n            vm[data][key] = newValue;\n        }\n    });\n}\n\nexport function defineProperty (target,key,value){\n    // 判断一个对象是否被观测过 ， 判断是否存在 __ob__\n    Object.defineProperty(target,key,{\n        enumerable:false ,// 不可枚举的 循环获取不到这个属性\n        configurable:false, // 不能修改\n        value\n    });\n}","import { arrayMethods } from \"./array\";\nimport { defineProperty } from '../utils';\nclass Observer {\n    constructor(value){\n\n        // 设置 __ob__\n        defineProperty(value , '__ob__' , this);\n\n        // 使用defineProperty\n        if(Array.isArray(value)){\n            value.__proto__ = arrayMethods;\n            // 观测数组里的对象\n            this.observerArray(value);\n        }else{\n            this.walk(value);\n        }\n    }\n    walk(data){\n        let keys = Object.keys(data);\n        keys.forEach((key) => {\n            defineReactive(data , key , data[key]);\n        });\n    }\n    observerArray(value){\n        console.log(value,'valuevalue');\n        value.forEach((el) => {\n            observer(el);\n        });\n    }\n}\n\n// 数据劫持\nfunction defineReactive (data , key ,value) {\n    observer(value); // 判断当前的值如果为对象就再次进行递归\n    Object.defineProperty(data , key ,{\n        get(){\n            console.log('用户获取值');\n            return value\n        },\n        set(newValue){\n            console.log('用户设置值');\n            if(newValue === value) return ;\n            observer(newValue);  // 如果用户将值改为对象 继续监控\n            value = newValue;\n        }\n    });\n}\n\nexport function observer (data) {\n    if(typeof data !== 'object' || data === null){\n        return\n    }\n    if(data.__ob__){\n        return\n    }\n    return new Observer(data);\n}","import { observer } from \"./observer/index\";\nimport { proxy } from './utils';\n\nexport function initSatte (vm) {\n    const opts = vm.$options;\n    if(opts.props){\n        initProps(vm);\n    }\n    if(opts.methods){\n        initMethods(vm);\n    }\n    if(opts.data){\n        initData(vm);\n    }\n    if(opts.computed){\n        initComputed(vm);\n    }\n    if(opts.watch){\n        initWatch(vm);\n    }\n}\n\nfunction initData (vm) {\n    let data = vm.$options.data;\n    vm._data = data = typeof data === 'function' ? data.call(vm) : data;\n    // 数据的劫持方案\n    observer(data);\n\n    // 代理\n    for (const key in data) {\n        proxy(vm,'_data',key);\n    }\n}\n\nfunction initProps () {\n\n}\nfunction initMethods () {\n    \n}\n\nfunction initComputed () {\n    \n}\nfunction initWatch () {\n    \n}","// ast 可以描述 dom css js (ast 描述代码)\n// 虚拟dom 只能描述 dom 层面不一样\n\nexport function compileToFunctions(template) {\n\t// 1. 需要将 html 转换成ast 抽象语法树\n\n\t// 前端要掌握的数据结构 (树)\n\tlet ast = parseHTML(template); //\n\tconsole.log(ast);\n\t// 2. 需要将ast树重新生成 html\n}\n\nconst ncname = `[a-zA-Z ][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // ?: 匹配但不捕获\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst defaultTagRE = /\\{\\{((?:|\\r?\\n)+?)\\}\\}/g; // 匹配 {{}} 内容\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的\nconst attribute =\n\t/^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^’]*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\n\n// 生成 ast\nfunction parseHTML(html) {\n\tlet root;\n\t// // 解析开始标签\n\tfunction start(tagName, attrs) {\n\t\tconsole.log(tagName, attrs, \"解析开始标签\");\n\t\tlet element = createASTElement(tagName, attrs);\n\t\tif (!root) {\n\t\t\troot = element;\n\t\t}\n\t}\n\n\t// 结束标签\n\tfunction end(endTag) {\n\t\tconsole.log(endTag, \"结束标签\");\n\t}\n\n\t// //文本\n\tfunction chars(text) {\n\t\tconsole.log(text, \"文本\");\n\t}\n\n\tfunction createASTElement(tagName, attrs) {\n\t\treturn {\n\t\t\ttag: tagName,\n\t\t\ttype: 1,\n\t\t\tchildren: [],\n\t\t\tattrs,\n\t\t\tparent: null,\n\t\t};\n\t}\n\n\t// html 存在一直执行\n\twhile (html) {\n\t\tlet textEnd = html.indexOf(\"<\");\n\t\tif (textEnd == 0) {\n\t\t\t// 肯定是标签 处理开始\n\t\t\tlet startTagMatch = parseStartTag();\n\t\t\tif (startTagMatch) {\n\t\t\t\tstart(startTagMatch.tagName, startTagMatch.attrs);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// 处理结束\n\t\t\tconst endTagMatch = html.match(endTag);\n\t\t\tif (endTagMatch) {\n\t\t\t\tadvance(endTagMatch[0].length);\n\t\t\t\tend(endTagMatch[1]);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tlet text;\n\t\t// 处理文本\n\t\tif (textEnd > 0) {\n\t\t\ttext = html.substring(0, textEnd);\n\t\t}\n\t\tif (text) {\n\t\t\tadvance(text.length);\n\t\t\tchars(text);\n\t\t}\n\t\tbreak;\n\t}\n\t// 截取字符串\n\tfunction advance(n) {\n\t\thtml = html.substring(n);\n\t}\n\tfunction parseStartTag() {\n\t\tconst start = html.match(startTagOpen);\n\t\tif (start) {\n\t\t\tconst match = {\n\t\t\t\ttagName: start[1], // 标签名\n\t\t\t\tattrs: [],\n\t\t\t};\n\t\t\tadvance(start[0].length);\n\t\t\tconsole.log(html);\n\t\t\tlet end;\n\t\t\tlet attr;\n\t\t\twhile (\n\t\t\t\t!(end = html.match(startTagClose)) &&\n\t\t\t\t(attr = html.match(attribute))\n\t\t\t) {\n\t\t\t\tmatch.attrs.push({\n\t\t\t\t\tname: attr[1],\n\t\t\t\t\tvalue: attr[3] || attr[4] || attr[5],\n\t\t\t\t});\n\t\t\t\tadvance(attr[0].length); // 去掉属性\n\t\t\t}\n\t\t\tif (end) {\n\t\t\t\tadvance(end[0].length);\n\t\t\t\treturn match;\n\t\t\t}\n\t\t}\n\t}\n\treturn root;\n}\n","import { initSatte } from \"./state\";\nimport { compileToFunctions } from \"./compile/index\";\n\nexport function initMixin(Vue) {\n\t//入口 初始化方法\n\tVue.prototype._init = function (options) {\n\t\tconst vm = this;\n\t\tvm.$options = options;\n\n\t\tinitSatte(vm); // 初始化状态\n\n\t\t// vue 响应数据的变化 讲将数据作一个初始化的劫持 （数据改变时改变视图）\n\n\t\t// 默认 如果当前有el属性 就渲染模板\n\t\tif (vm.$options.el) {\n\t\t\tvm.$mount(vm.$options.el);\n\t\t}\n\t};\n\tVue.prototype.$mount = function (el) {\n\t\t// 1 获取el dom\n\t\t// 2 判断如果没有 render\n\t\t// 3 没render 就 将 template 转为 render\n\n\t\t// 挂载\n\t\tconst vm = this;\n\t\t// 1 获取el dom\n\t\tel = document.querySelector(el);\n\n\t\t// 2 判断如果没有 render\n\t\tif (!vm.$options.render) {\n\t\t\t// 3 没render 就 将 template 转为 render\n\t\t\tlet template = vm.$options.template;\n\t\t\tif (!template && el) {\n\t\t\t\ttemplate = el.outerHTML;\n\t\t\t}\n\t\t\t// 将模板转换为 render 函数 就是 ast 虚拟dom树 最总渲染时用的都是render方法\n\t\t\tconst render = compileToFunctions(template);\n\t\t\tvm.$options.render = render;\n\t\t}\n\t};\n}\n","import { initMixin } from './init';\n// 写 vue\n\n\n\n// 第一波 创建 vue 类 es5\nfunction Vue (options) {\n    this._init(options); //入口\n}\n\n\n// 写成一个个的插件 对 原型进行扩展\ninitMixin(Vue);\n\n\n\n\nexport default Vue;"],"names":["arrayProto","Array","prototype","arrayMethods","Object","create","methodsToPatch","forEach","method","inserted","ob","__ob__","args","slice","observerArray","apply","proxy","vm","data","key","defineProperty","get","set","newValue","target","value","enumerable","configurable","Observer","isArray","__proto__","walk","keys","defineReactive","console","log","el","observer","initSatte","opts","$options","props","methods","initData","computed","watch","_data","call","compileToFunctions","template","ast","parseHTML","ncname","qnameCapture","startTagOpen","RegExp","endTag","startTagClose","attribute","html","root","start","tagName","attrs","element","createASTElement","end","chars","text","tag","type","children","parent","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","length","substring","n","attr","push","name","initMixin","Vue","_init","options","$mount","document","querySelector","render","outerHTML"],"mappings":"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"}